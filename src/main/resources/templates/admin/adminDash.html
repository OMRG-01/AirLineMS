<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
<title>Dashboard</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="icon" type="image/png" th:href="@{/img/fg.png}">

  <link rel="stylesheet" type="text/css"
    href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,900|Roboto+Slab:400,700" /> <!--FONT-->

  <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">
  <!-- Material Icons INCOME HE TE -->

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <!-- CSS Files -->

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
	
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.canvasjs.com/canvasjs.min.js"></script>

  <link id="pagestyle" th:href="@{/assets/css/my.css?v=3.1.0}" rel="stylesheet" />
  <style>
	.chart-container {
	    display: flex;
	    justify-content: space-between;
	    gap: 20px;
	    margin-bottom: 20px;
	    height: 500px; /* Fixed container height */
	  }
	  
	  .chart-box {
	    flex: 1;
	    height: 500px; /* Fixed height */
	    border: 1px solid #eee;
	    border-radius: 8px;
	    padding: 15px;
	    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
	    background-color: white;
	    overflow: hidden; /* Prevent content from overflowing */
	  }
	  
	  .pie-box {
			
	       flex: 1;
	       max-width: 100%;
	       max-height: 90%;
	       border-radius: 8px;
	       padding: 15px;
	     }
    .chart-title {
      text-align: center;
      margin-bottom: 15px;
      font-weight: 500;
    }
    
    .aaa {
      height: 50px;
      width: 165px;
      margin-right: 10px;
    }

	.navbar-toggler {
	      display: none;
	      background-color: transparent;
	      border: none;
	      cursor: pointer;
	      padding: 10px;
	    }
	    
	    @media (max-width: 992px) {
	      .navbar-toggler {
	        display: block;
	      }
	    }
	    
	    .navbar-toggler-icon {
	      width: 30px;
	      height: 30px;
	      position: relative;
	      color: #8E2157;
	    }

	    /* Top navbar responsive adjustments */
	    .container2 {
	      display: flex;
	      justify-content: space-between;
	      flex-wrap: wrap;
	    }

	    @media (max-width: 768px) {
	      .container2 {
	        flex-direction: column;
	      }
	      
	      .nav-links {
	        margin-bottom: 10px;
	        width: 100%;
	      }
	    }

	    .nav-links {
	      flex: 1;
	      text-align: left;
	      max-height: none;
	    }

	    .nav-links ul {
	      padding-left: 0;
	      margin-bottom: 0;
	    }

	    .nav-links ul li {
	      list-style: none;
	      display: inline-block;
	      padding: 8px 12px;
	      width: auto;
	      position: relative;
	      font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;
	    }

	    @media (max-width: 576px) {
	      .nav-links ul li {
	        display: block;
	        width: 100%;
	        text-align: center;
	      }
	    }

	    .nav-links ul li a {
	      color: black;
	      text-decoration: none;
	      font-size: 15px;
	      white-space: nowrap;
	    }

	    .nav-links ul li::after {
	      content: "";
	      width: 0%;
	      height: 3px;
	      background: #8E2157;
	      display: block;
	      margin: auto;
	      transition: 1s;
	    }

	    .nav-links ul li:hover::after {
	      width: 100%;
	    }
		.dashboard {
		            display: flex;
		            flex-wrap: wrap;
		            justify-content: center;
		            gap: 20px;
		            max-width: 1200px;
		            margin: 0 auto;
					margin-bottom: 50px;
		        }
		.clock-container {
		            background-color: #fff;
		            border-radius: 10px;
		            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
		            padding: 15px;
		            text-align: center;
		            transition: all 0.3s ease;
		        }
		        
		        .clock {
		            position: relative;
		            width: 200px;
		            height: 200px;
		            border-radius: 50%;
		            background-color: #f8f8f8;
		            border: 8px solid #333;
		            box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.2);
		            margin: 0 auto;
		        }
		        
		        .center-dot {
		            position: absolute;
		            width: 12px;
		            height: 12px;
		            background-color: #333;
		            border-radius: 50%;
		            top: 50%;
		            left: 50%;
		            transform: translate(-50%, -50%);
		            z-index: 10;
		        }
		        
		        .hour-marks {
		            position: absolute;
		            width: 100%;
		            height: 100%;
		            top: 0;
		            left: 0;
		        }
		        
		        .hour-marks span {
		            position: absolute;
		            width: 4px;
		            height: 12px;
		            background-color: #333;
		            left: 50%;
		            margin-left: -2px;
		            transform-origin: 2px 94px;
		        }
		        
		        .minute-marks span {
		            position: absolute;
		            width: 2px;
		            height: 6px;
		            background-color: #999;
		            left: 50%;
		            margin-left: -1px;
		            transform-origin: 1px 94px;
		        }
		        
		        .hour-hand, .minute-hand, .second-hand {
		            position: absolute;
		            background-color: #333;
		            transform-origin: bottom center;
		            bottom: 50%;
		            left: 50%;
		            border-radius: 10px 10px 0 0;
		        }
		        
		        .hour-hand {
		            width: 6px;
		            height: 50px;
		            margin-left: -3px;
		        }
		        
		        .minute-hand {
		            width: 4px;
		            height: 70px;
		            margin-left: -2px;
		            background-color: #666;
		        }
		        
		        .second-hand {
		            width: 2px;
		            height: 80px;
		            margin-left: -1px;
		            background-color: #f00;
		        }
		        
		        .location {
		            font-size: 18px;
		            font-weight: bold;
		            margin-top: 15px;
		            color: #333;
		        }
		        
		        .digital-time {
		            font-size: 16px;
		            color: #666;
		            margin: 5px 0;
		        }
		        
		        .controls {
		            position: fixed;
		            bottom: 20px;
		            left: 50%;
		            transform: translateX(-50%);
		            background-color: #fff;
		            padding: 15px;
		            border-radius: 10px;
		            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
		            display: flex;
		            align-items: center;
		            gap: 10px;
		            z-index: 100;
		        }
		        
		        .size-label {
		            font-weight: bold;
		            color: #333;
		        }
		        
		        .size-slider {
		            width: 200px;
		        }
		        
		        /* For Thymeleaf specific styling if needed */
		        [th\:text], [th\:with], [th\:if], [th\:unless], [th\:each] {
		            display: block;
		        }
		        
		        @media (max-width: 768px) {
		            .dashboard {
		                flex-direction: column;
		                align-items: center;
		            }
		            
		            .clock {
		                width: 150px;
		                height: 150px;
		            }
		            
		            .hour-marks span {
		                transform-origin: 2px 69px;
		            }
		            
		            .minute-marks span {
		                transform-origin: 1px 69px;
		            }
		            
		            .hour-hand {
		                height: 40px;
		            }
		            
		            .minute-hand {
		                height: 55px;
		            }
		            
		            .second-hand {
		                height: 65px;
		            }
		        }
  </style>
</head>

<body class="g-sidenav-show  bg-gray-200">
  <aside
    class="sidenav navbar navbar-vertical navbar-expand-xs border-0 border-radius-xl my-3 fixed-start ms-3   bg-gradient-dark"
    id="sidenav-main">
    <div class="sidenav-header">
      <i class="fas fa-times p-3 cursor-pointer text-white opacity-5 position-absolute end-0 top-0 d-none d-xl-none"
        aria-hidden="true" id="iconSidenav"></i>
      <a class="navbar-brand m-0" href="">
        <img th:src="@{/img/PH.jpg}" class="navbar-brand-img h-100 border-radius-lg" alt="main_logo">
		<span class="ms-1 font-weight-bold text-white" th:text="${admin.name}">Admin Name</span>
      </a>
    </div>
    <hr class="horizontal light mt-0 mb-2">
    <div class="collapse navbar-collapse  w-auto " id="sidenav-collapse-main">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link text-white active bg-gradient-primary" th:href="@{/admin/dashboard}">
            <div class="text-white text-center me-2 d-flex align-items-center justify-content-center">
              <i class="material-icons opacity-10">dashboard</i>
            </div>
            <span class="nav-link-text ms-1">Dashboard</span>
          </a>
        </li>
		<li class="nav-item">
		          <a class="nav-link text-white " th:href="@{/admin/airline-management}">
		            <div class="text-white text-center me-2 d-flex align-items-center justify-content-center">
		              <i class="material-icons opacity-10">table_view</i>
		            </div>
		            <span class="nav-link-text ms-1">Airline Management</span>
		          </a>
		        </li>
        <li class="nav-item">
          <a class="nav-link text-white " th:href="@{/admin/flights/view}">
            <div class="text-white text-center me-2 d-flex align-items-center justify-content-center">
              <i class="material-icons opacity-10">view_in_ar</i>
            </div>
            <span class="nav-link-text ms-1">Flights Management</span>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link text-white " th:href="@{/admin/flights/view-schedules}">
            <div class="text-white text-center me-2 d-flex align-items-center justify-content-center">
              <i class="material-icons opacity-10">receipt_long</i>
            </div>
            <span class="nav-link-text ms-1">Schedule Flight</span>
          </a>
        </li>
		<li class="nav-item">
          <a class="nav-link text-white " th:href="@{/admin/cities/view}">
            <div class="text-white text-center me-2 d-flex align-items-center justify-content-center">
              <i class="material-icons opacity-10">connecting_airports</i>
            </div>
            <span class="nav-link-text ms-1">City Management</span>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link text-white " href="passenger-lists.php">
            <div class="text-white text-center me-2 d-flex align-items-center justify-content-center">
              <i class="material-icons opacity-10">format_textdirection_r_to_l</i>
            </div>
            <span class="nav-link-text ms-1">Passenger Lists</span>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link text-white " href="feedback.php">
            <div class="text-white text-center me-2 d-flex align-items-center justify-content-center">
              <i class="material-icons opacity-10">notifications</i>
            </div>
            <span class="nav-link-text ms-1">Feedback</span>
          </a>
        </li>
        <li class="nav-item mt-3">
          <h6 class="ps-4 ms-2 text-uppercase text-xs text-white font-weight-bolder opacity-8">Account pages</h6>
        </li>
        <li class="nav-item">
          <a class="nav-link text-white " th:href="@{/admin/editProfile}">
            <div class="text-white text-center me-2 d-flex align-items-center justify-content-center">
              <i class="material-icons opacity-10">person</i>
            </div>
            <span class="nav-link-text ms-1">Profile</span>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link text-white " th:href="@{/admin/logout}">
            <div class="text-white text-center me-2 d-flex align-items-center justify-content-center">
              <i class="material-icons opacity-10">login</i>
            </div>
            <span class="nav-link-text ms-1">Logout</span>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link text-white " th:href="@{/admin/add}">
            <div class="text-white text-center me-2 d-flex align-items-center justify-content-center">
              <i class="material-icons opacity-10">assignment</i>
            </div>
            <span class="nav-link-text ms-1">Add New Member</span>
          </a>
        </li>
      </ul>
    </div>
  </aside>
  <main class="main-content position-relative max-height-vh-100 h-100 border-radius-lg ">

    <!-- Navbar -->
    <nav class="navbar navbar-main navbar-expand-lg px-0 mx-4 shadow-none border-radius-xl" id="navbarBlur"
      data-scroll="true">
      <div class="container-fluid py-1 px-3">
        <img class="aaa" th:src="@{/assets/GG-removebg-preview.png}">
        <div class="container2">
          <div class="nav-links">
            <ul>
              <li><a th:href="@{/admin/flights/add}"> <i class="fa fa-space-shuttle" style="font-size:20px;"></i></i> ADD NEW FLIGHT
                </a></li>
            </ul>
          </div>
          <div class="nav-links">
            <ul>
              <li><a th:href="@{/admin/add-airline}"><i class="fa fa-plane" style="font-size:20px"></i> ADD NEW AIRLINE </a>
              </li>
            </ul>
          </div>
          <div class="nav-links">
            <ul>
				<li><a th:href="@{/admin/logout}" style="color:chocolate;"> <i class="fa fa-sign-out"
				style="font-size:18px"></i><span class="ms-1 font-weight-bold">LOGOUT</span></a></li>
            </ul>
          </div>
        </div>
      </div>
    </nav>
    <!-- End Navbar -->

    <br>

    <div class="container-fluid py-4">
      <div class="row">

        <div class="col-xl-3 col-sm-6 mb-xl-0 mb-4">
          <a th:href="@{/admin/airline-management}">
            <div class="card">
              <div class="card-header p-3 pt-2">
                <div
                  class="icon icon-lg icon-shape bg-gradient-dark shadow-dark text-center border-radius-xl mt-n4 position-absolute">
                  <i class="material-icons opacity-10">airplanemode_active</i>
                </div>
                <div class="text-end pt-1">
                  <p class="text-sm mb-0 text-capitalize">Available Airlines</p>
                  <h4 class="mb-0" th:text="${airlineCount}"></h4>
                </div>
              </div>
              <hr class="dark horizontal my-0">
              <div class="card-footer p-3">
                <p class="mb-0">Last Added: <span class="text-success text-sm font-weight-bolder" th:text="${latestAirlineName}"></span></p>
              </div>
            </div>
          </a>
        </div>
        <div class="col-xl-3 col-sm-6 mb-xl-0 mb-4">
          <a th:href="@{/admin/flights/view}">
            <div class="card">
              <div class="card-header p-3 pt-2">
                <div
                  class="icon icon-lg icon-shape bg-gradient-success shadow-success text-center border-radius-xl mt-n4 position-absolute">
                  <i class="material-icons opacity-10">flight_takeoff</i>
                </div>
                <div class="text-end pt-1">
                  <p class="text-sm mb-0 text-capitalize">Available Flights</p>
                  <h4 class="mb-0" th:text="${flightCount}"></h4>
                </div>
              </div>
              <hr class="dark horizontal my-0">
              <div class="card-footer p-3">
                <p class="mb-0">Flight No: <span class="text-success text-sm font-weight-bolder" th:text="${latestFlightNumber}"></span> lastly added</p>
              </div>
            </div>
          </a>
        </div>
        <div class="col-xl-3 col-sm-6 mb-xl-0 mb-4">
          <a href="passenger-lists.php">
            <div class="card">
              <div class="card-header p-3 pt-2">
                <div
                  class="icon icon-lg icon-shape bg-gradient-primary shadow-primary text-center border-radius-xl mt-n4 position-absolute">
                  <i class="material-icons opacity-10">group_add</i>
                </div>
                <div class="text-end pt-1">
                  <p class="text-sm mb-0 text-capitalize">Total Bookings</p>
                  <h4 class="mb-0"></h4>
                </div>
              </div>
              <hr class="dark horizontal my-0">
              <div class="card-footer p-3">
                <p class="mb-0">From<span class="text-success text-sm font-weight-bolder"> <?php echo $count;?></span> Registrations </p>
              </div>
            </div>
          </a>
        </div>
        <div class="col-xl-3 col-sm-6">
          <a href="#">
            <div class="card">
              <div class="card-header p-3 pt-2">
                <div
                  class="icon icon-lg icon-shape bg-gradient-info shadow-info text-center border-radius-xl mt-n4 position-absolute">
                  <i class="material-icons opacity-10">data_usage</i>
                </div>
                <div class="text-end pt-1">
                  <p class="text-sm mb-0 text-capitalize">Total Earnings</p>
                  <h4 class="mb-0">INR <?php echo $total; ?></h4>
                </div>
              </div>
              <hr class="dark horizontal my-0">
              <div class="card-footer p-3">
                <p class="mb-0">Today's Earnings<span class="text-success text-sm font-weight-bolder"> INR <?php echo $total1; ?></span></p>
              </div>
            </div>
          </a>
        </div>
      </div>
      <br>
	  <div class="dashboard" id="clockDashboard">
		
	         <div class="clock-container" th:with="timezone='Europe/London'" id="uk-clock">
	             <div class="clock">
	                 <div class="center-dot"></div>
	                 <div class="hour-marks" id="hourMarksUK"></div>
	                 <div class="minute-marks" id="minuteMarksUK"></div>
	                 <div class="hour-hand" id="hourHandUK"></div>
	                 <div class="minute-hand" id="minuteHandUK"></div>
	                 <div class="second-hand" id="secondHandUK"></div>
	             </div>
	             <div class="location">London (UK)</div>
	             <div class="digital-time" id="digitalTimeUK"></div>
	         </div>
	         
	         <div class="clock-container" th:with="timezone='America/New_York'" id="usa-clock">
	             <div class="clock">
	                 <div class="center-dot"></div>
	                 <div class="hour-marks" id="hourMarksUSA"></div>
	                 <div class="minute-marks" id="minuteMarksUSA"></div>
	                 <div class="hour-hand" id="hourHandUSA"></div>
	                 <div class="minute-hand" id="minuteHandUSA"></div>
	                 <div class="second-hand" id="secondHandUSA"></div>
	             </div>
	             <div class="location">New York (USA)</div>
	             <div class="digital-time" id="digitalTimeUSA"></div>
	         </div>
	         
	         <div class="clock-container" th:with="timezone='Asia/Kolkata'" id="india-clock">
	             <div class="clock">
	                 <div class="center-dot"></div>
	                 <div class="hour-marks" id="hourMarksIndia"></div>
	                 <div class="minute-marks" id="minuteMarksIndia"></div>
	                 <div class="hour-hand" id="hourHandIndia"></div>
	                 <div class="minute-hand" id="minuteHandIndia"></div>
	                 <div class="second-hand" id="secondHandIndia"></div>
	             </div>
	             <div class="location">New Delhi (India)</div>
	             <div class="digital-time" id="digitalTimeIndia"></div>
	         </div>
	         
	         <div class="clock-container" th:with="timezone='Asia/Dubai'" id="dubai-clock">
	             <div class="clock">
	                 <div class="center-dot"></div>
	                 <div class="hour-marks" id="hourMarksDubai"></div>
	                 <div class="minute-marks" id="minuteMarksDubai"></div>
	                 <div class="hour-hand" id="hourHandDubai"></div>
	                 <div class="minute-hand" id="minuteHandDubai"></div>
	                 <div class="second-hand" id="secondHandDubai"></div>
	             </div>
	             <div class="location">Dubai (UAE)</div>
	             <div class="digital-time" id="digitalTimeDubai"></div>
	         </div>
	     </div>
	     
	    
      <div class="card card-danger">
        <div class="card-header">
            <h3 class="card-title">Flight Analytics</h3>
        </div>
       	<div class="card-body">
		  <div class="chart-container">
		    <div class="chart-box">
		      <h4 class="chart-title">Flight Status</h4>
		      <div id="flightStatusBarChart" style="height: 450px; width: 100%;"></div>
		    </div>
		    <div class="chart-box">
				<div class="pie-box" align="center">
		      <h4 class="chart-title">Flights per Airline</h4>
		      <canvas id="airlineFlightChart" ></canvas>
			  </div>  
		  </div>
		  </div>
		</div>
      </div>
      
      <footer class="footer py-4">
        <div class="container-fluid">
          <div class="row align-items-center justify-content-lg-between">
            <div class="col-lg-6 mb-lg-0 mb-4">
              <div class="copyright text-center text-sm text-muted text-lg-start">
                Â©
                <script>
                  document.write(new Date().getFullYear())
                </script>,
                Copyright All rights reserved. Team :
                <a href="" class="font-weight-bold" target="_blank">GMADS <i class="fa fa-heart"></i></a>
                for a better web.
              </div>
            </div>
            <div class="col-lg-6">
              <ul class="nav nav-footer justify-content-center justify-content-lg-end">
                <li class="nav-item">
                  <a href="" class="nav-link text-muted" target="_blank"><i class="fa fa-facebook-f"></i></a>
                </li>
                <li class="nav-item">
                  <a href="" class="nav-link text-muted" target="_blank"><i class="fa fa-twitter"></i></a>
                </li>
                <li class="nav-item">
                  <a href="" class="nav-link text-muted" target="_blank"><i class="fa fa-instagram"></i></a>
                </li>
                <li class="nav-item">
                  <a href="https://www.youtube.com/channel/UCNCWGkiAKDhwgCuGT02aXCg" class="nav-link text-muted"
                    target="_blank"><i class="fa fa-youtube-play"></i></a>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </footer>
    </div>
  </main>

<script th:inline="javascript">
    document.addEventListener('DOMContentLoaded', function() {
        // Data for charts
        const airlineFlightData = /*[[${airlineFlightData}]]*/ [];
        const labels = airlineFlightData.map(item => item.label);
        const data = airlineFlightData.map(item => item.value);
        
        // Chart 1: Flights per Airline (Pie Chart)
      	const airlineCtx = document.getElementById('airlineFlightChart').getContext('2d');
		new Chart(airlineCtx, {
		    type: 'pie',
		    data: {
		        labels: labels,
		        datasets: [{
		            label: 'Flights per Airline',
		            data: data,
		            backgroundColor: [
		                '#007bff', '#28a745', '#ffc107', '#dc3545', '#17a2b8',
		                '#6f42c1', '#fd7e14', '#20c997'
		            ],
		            borderWidth: 1
		        }]
		    },
		    options: {
		        responsive: true,
		        maintainAspectRatio: true,
		        plugins: {
		            legend: {
		                position: 'bottom',
		                display: true
		            }
		        }
		    }
		});

		// For the bar chart
		var chart = new CanvasJS.Chart("flightStatusBarChart", {
		    height: 350,
		    animationEnabled: true,
		    theme: "light2",
		    axisY: {
		        title: "Number of Flights"
		    },
		    data: [{
		        type: "column",
		        dataPoints: [
		            { label: "Not Departed", y: /*[[${notDeparted}]]*/ 10, color: "#4e73df" },
		            { label: "In Flight", y: /*[[${inFlight}]]*/ 5, color: "#f6c23e" },
		            { label: "Arrived", y: /*[[${arrived}]]*/ 15, color: "#1cc88a" }
		        ]
		    }]
		});
		chart.render();
    });
</script>
<script th:inline="javascript">
        document.addEventListener('DOMContentLoaded', function() {
            // Create clock marks for all clocks
            const clocks = ['UK', 'USA', 'India', 'Dubai'];
            
            clocks.forEach(clock => {
                createClockMarks(clock);
            });
            
            // Initialize and start all clocks
            updateAllClocks();
            setInterval(updateAllClocks, 1000);
            
            // Initialize size slider
            const sizeSlider = document.getElementById('sizeSlider');
            sizeSlider.addEventListener('input', updateClockSize);
        });
        
        function createClockMarks(clock) {
            const hourMarks = document.getElementById('hourMarks' + clock);
            const minuteMarks = document.getElementById('minuteMarks' + clock);
            
            // Create hour marks
            for (let i = 0; i < 12; i++) {
                const hourMark = document.createElement('span');
                hourMark.style.transform = `rotate(${i * 30}deg)`;
                hourMarks.appendChild(hourMark);
            }
            
            // Create minute marks
            for (let i = 0; i < 60; i++) {
                if (i % 5 !== 0) {  // Skip positions where hour marks are
                    const minuteMark = document.createElement('span');
                    minuteMark.style.transform = `rotate(${i * 6}deg)`;
                    minuteMarks.appendChild(minuteMark);
                }
            }
        }
        
        function updateAllClocks() {
            updateClock('UK', 'Europe/London');
            updateClock('USA', 'America/New_York');
            updateClock('India', 'Asia/Kolkata');
            updateClock('Dubai', 'Asia/Dubai');
        }
        
        function updateClock(clockId, timezone) {
            const now = new Date();
            
            // Format the time based on the timezone
            const options = {
                timeZone: timezone,
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit',
                hour12: true
            };
            
            const timeString = now.toLocaleTimeString('en-US', options);
            document.getElementById('digitalTime' + clockId).textContent = timeString;
            
            // Calculate timezone offset
            const utcDate = new Date(now.toLocaleString('en-US', { timeZone: 'UTC' }));
            const tzDate = new Date(now.toLocaleString('en-US', { timeZone: timezone }));
            const offset = (tzDate - utcDate) / 1000 / 60 / 60;
            
            // Get hours, minutes, seconds adjusted for timezone
            const hours = (now.getUTCHours() + offset) % 24;
            const minutes = now.getUTCMinutes();
            const seconds = now.getUTCSeconds();
            
            // Calculate rotation angles
            const hourRotation = (hours % 12) * 30 + minutes * 0.5;
            const minuteRotation = minutes * 6;
            const secondRotation = seconds * 6;
            
            // Set hand rotations
            document.getElementById('hourHand' + clockId).style.transform = `translateX(-50%) rotate(${hourRotation}deg)`;
            document.getElementById('minuteHand' + clockId).style.transform = `translateX(-50%) rotate(${minuteRotation}deg)`;
            document.getElementById('secondHand' + clockId).style.transform = `translateX(-50%) rotate(${secondRotation}deg)`;
        }
        
        function updateClockSize() {
            const clockSize = document.getElementById('sizeSlider').value;
            const clocks = document.querySelectorAll('.clock');
            
            clocks.forEach(clock => {
                clock.style.width = clockSize + 'px';
                clock.style.height = clockSize + 'px';
                
                // Adjust the transform origin for the hands and marks
                const hourMarks = clock.querySelectorAll('.hour-marks span');
                const minuteMarks = clock.querySelectorAll('.minute-marks span');
                const halfSize = clockSize / 2 - 6; // Subtract border/padding
                
                hourMarks.forEach(mark => {
                    mark.style.transformOrigin = `2px ${halfSize}px`;
                });
                
                minuteMarks.forEach(mark => {
                    mark.style.transformOrigin = `1px ${halfSize}px`;
                });
                
                // Adjust hand sizes proportionally
                const hourHand = clock.querySelector('.hour-hand');
                const minuteHand = clock.querySelector('.minute-hand');
                const secondHand = clock.querySelector('.second-hand');
                
                hourHand.style.height = (clockSize * 0.25) + 'px';
                minuteHand.style.height = (clockSize * 0.35) + 'px';
                secondHand.style.height = (clockSize * 0.4) + 'px';
            });
        }
    </script>
</body>
</html>