<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Register - JetSetFly</title>
    <link rel="stylesheet" th:href="@{/assets/styles.css}"> <!-- Replace with your actual CSS file path -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css">

	<style>
	         @import url("https://fonts.googleapis.com/css?family=Poppins:200,300,400,500,600,700,800,900&display=swap");

	     * {
	     margin: 0;
	     padding: 0;
	     box-sizing: border-box;
	    
	   }
	     body {
	        background-color: #f1f5f9;
	     }

	     #main-box {
	        display: flex;
	        justify-content: space-evenly;
	     }

	     #main-box1 {
	        width: 72%;
	        position: relative;
	        top: 150px;
	        background-color: white;
	        text-align: center;
	        border-radius: 20px;
	        box-shadow: 5px 5px 30px rgba(0, 0, 0, 0.1);
	     }

	     #login-button {
	        display: flex;
	        justify-content: center;
	        padding-bottom: 10px;
	        padding-top: 10px;
	     }

	     #login-text {
	        display: grid;
	        grid-template-columns: auto auto auto;
	        gap: 10px;
	        position: relative;
	        left: 10px;
	        text-align: left;
	     }

	     i {
	        font-size: 25px;
	        position: relative;
	        right: 10px;
	        top: 5px;
	     }

	     .vl {
	        position: absolute;
	        top: 165px;
	        border-left: 6px solid #8E2157;
	        ;
	        height: 50%;
	     }

	     .button {
	        width: 170px;
	        font-size: 15px;
	     }

	     .button {
	        padding: 10px 10px;
	        margin-bottom: 20px;
	        font-size: 24px;
	        text-align: center;
	        cursor: pointer;
	        font-weight: bold;
	        color: #fff;
	        background-color: #8E2157;
	        ;
	        border: 2px solid #89375F;
	        border-radius: 15px;
	     }

	     .button:hover {
	        cursor: pointer;
	        background-color: white;
	        color: black;
	        border-color: black;
	     }

	     .button:active {
	        background-color: white;
	        border-color: black;
	        transform: translateY(4px);
	     }


	     .input-container {
	        position: relative;
	        margin-bottom: 20px;
	     }

	     select {
	        font-size: 17px;
	        width: 300px;
	        padding: 15px 10px 10px;
	        border: none;
	        border-bottom: 2px solid #ccc;
	        outline: none;
	        transition: border-bottom-color 0.3s;
	     }

	     select:focus {
	        border-bottom-color: #8E2157;
	     }

	     label {
	        font-weight: bold;
	        position: absolute;
	        top: 15px;
	        left: 10px;
	        font-size: 16px;
	        color: #333;
	        transition: top 0.3s, font-size 0.3s;
	     }
	     #bottom-button a
	     {
	        text-decoration:none;
	     }

	     select:focus+label,
	     select:valid+label {
	        top: 0;
	        font-size: 12px;
	        color: #8E2157;
	     }

	     .input-container {
	        position: relative;
	        margin-bottom: 20px;
	     }

	     input {
	        font-size: 17px;
	        width: 300px;
	        padding: 15px 10px 10px;
	        border: none;
	        border-bottom: 2px solid #ccc;
	        outline: none;
	        
	     }

	     input:focus {
	        border-bottom-color: #8E2157;
	     }

	     label {
	        font-weight: 500;
	        position: absolute;
	        top: 15px;
	        left: 10px;
	        font-size: 16px;
	        color: #333;
	        transition: top 0.3s, font-size 0.3s;
	     }

	     input:focus+label,
	     input:valid+label {
	        top: 0;
	        font-size: 12px;
	        color: #8E2157;
	     }

	     input:-webkit-autofill {
	        -webkit-box-shadow: 0 0 0 30px white inset !important;
	     }
	     #bottom-button {position:relative;top:10px;display:flex;justify-content:space-around;}



	     :root {
	     --primary-color: #8E2157;
	     --primary-color-dark: #6b0f3d;
	     --text-dark: #0b0f18;
	     --text-light: #503744;
	     --extra-light: #f1f5f9;
	     --white: #ffffff;
	     --max-width: 1400px;
	   }
	     .section__container {
	     max-width: var(--max-width);
	     margin: auto;
	     padding: 5rem 1rem;
	   }

	   .btn {
	     padding: 0.75rem 2rem;
	     outline: none;
	     border: none;
	     font-size: 1rem;
	     font-weight: 500;
	     color: var(--white);
	     background-color: var(--primary-color);
	     border-radius: 2rem;
	     cursor: pointer;
	     transition: 0.3s;
	   }
	   .btn a {
	     color: var(--extra-light);
	     text-decoration: none;
	   }

	   .btn:hover {
	     background-color: var(--primary-color-dark);
	   }

	   a {
	     text-decoration: none;
	   }

	   img {
	     width: 100%;
	     display: flex;
	   }

	   body {
	     font-family: "Poppins";
	     min-height: 70vh;
	   }


	   header {
	     position: fixed;
	     top: 0;
	     left: 0;
	     width: 100%;
	     display: flex;
	     justify-content: center;
	     align-items: center;
	     transition: 0.6s;
	     padding: 10px 20px 15px 30px;
	     z-index: 10000;
	     background-color: var(--white);
	     font-family: "Poppins",sans-serif;
	   }

	      header .logo {
	     font-weight: 700;
	     color: white;
	     text-decoration: none;
	     font-size: 1.5rem;
	     text-transform: uppercase;
	     letter-spacing: 2px;
	     transition: 0.6s;
	   }

	   header ul {
	     display: flex;
	     justify-content: center;
	     align-items: center;
	   }

	   header ul li {
	     margin-right: 15px;
	     list-style: none;
	   }
	     header ul li:last-child {
	     margin-right: 0; /* Removed margin-right from the last li element */
	   }

	   header ul li a {
	     margin: 0 15px;
	     text-decoration: none;
	     color: #fff;
	     letter-spacing: 2px;
	     font-weight: 500px;
	     transition: 0.6s;
	   }
	   .nav__logo{
	     position:absolute;
	     left:20px;
	   }
	   .nav__logo img {
	     height: 50px;
	     width: 150px;
	     margin-right: 10px;
	   }
	   .n_logo{
	       height: 40px;
	     width: 120px;
	     
	   }
	   .nav__links {
	     list-style: none;
	     display: flex;
	     align-items: center;
	     gap: 2rem;
	   }

	   .nav__links li {
	     list-style: none;
	     display: inline-block;
	     padding: 8px 12px;
	   }

	   .nav__links li a {
	     color: var(--primary-color);
	     text-decoration: none;
	     font-weight: 700;
	   }

	   

	   .nav__links li::after {
	     content: '';
	     width: 0%;
	     height: 3px;
	     background: var(--primary-color-dark);
	     display: block;
	     margin: auto;
	     transition: 0.5s;
	   }

	   .nav__links li:hover::after {
	     width: 80%;
	   }

	   .footer {
	     position: fixed;
	     bottom: 0;
	     left: 0;
	     width: 100%;
	     background-color: var(--primary-color);
	     z-index: 100;
	     padding: 20px 0;
	   }

	   .footer__bar1 {
	     padding: 0 20px;
	     display: flex;
	     align-items: center;
	     justify-content: space-between;
	     gap: 1rem;
	   }

	   .footer__bar1 p {
	     font-size: 1rem;
	     color: white;
	     padding: 0 80px;
	   }

	   .footer__container {
	     display: grid;
	     grid-template-columns: 2fr repeat(2, 1fr);
	     gap: 5rem;
	     padding: 18px 8px;
	   }
	   .social {
	     display: flex;
	     align-items: center;
	     gap: 1rem;
	   }

	   .social span {
	     font-size: 1.2rem;
	     color: var(--extra-light);
	   }
	   .social span a{
	     text-decoration: none;
	     color:var(--extra-light);
	   }
	  </style>
</head>
<body>
<header>
    <div class="nav__logo"><img src="/assets/jetsetflylogo.png"></div>
    <ul class="nav__links">
        <li class="link"><a th:href="@{/}">HOME</a></li>
        <li class="link"><a th:href="@{/aboutus}">ABOUT</a></li>
    </ul>
</header>

<div id="main-box">
    <div id="main-box1">
        <div><br>
            <h1>REGISTER</h1>
        </div>
        <br>

        <form id="login" th:action="@{/register/submit}" method="POST">
            <div id="login-text">
                <div class="input-container">
                    <select id="dropdown" name="title" required>
                        <option value="" disabled selected hidden></option>
                        <option value="Mr">Mr</option>
                        <option value="Miss">Miss</option>
                        <option value="Mrs">Mrs</option>
                    </select>
                    <label for="title">Title</label>
                </div>
                <div class="input-container">
                    <input type="text" name="fname" id="fname" th:value="${fname}" required>
                    <label for="fname">First Name</label>
                </div>
                <div class="input-container">
                    <input type="text" name="lname" id="lname" th:value="${lname}" required>
                    <label for="lname">Last Name</label>
                </div>
                <div class="input-container">
                    <input type="text" name="email" id="email" th:value="${email}" required>
                    <label for="email">Email</label>
                </div>
                <div class="input-container">
                    <input type="password" name="password" id="password" required>
                    <label for="password">Password</label>
                </div>
                <div class="input-container">
                    <input type="password" id="cpassword" required>
                    <label for="Cpassword">Confirm Password</label>
                </div>
                <div class="input-container">
                    <input type="text" name="mnumber" id="mnumber" th:value="${mnumber}" required>
                    <label for="mnumber">Mobile Number</label>
                </div>
            </div>

            <div id="bottom-button">
                <a href="/login1">
                    <div id="login-button">
                        <input type="button" class="button" value="Back">
                    </div>
                </a>
                <div id="login-button">
                    <input type="submit" class="button" value="Register">
                </div>
            </div>
        </form>
    </div>
</div>

<footer class="footer">
    <div class="section__container footer__bar1">
        <p>Copyright Â© 2024 Team <b>GMADS.</b> All rights reserved.</p>
        <div class="social">
            <span><a href="#"><i class="ri-facebook-fill"></i></a></span>
            <span><a href="#"><i class="ri-twitter-fill"></i></a></span>
            <span><a href="#"><i class="ri-instagram-line"></i></a></span>
            <span><a href="https://www.youtube.com/channel/UCNCWGkiAKDhwgCuGT02aXCg"><i class="ri-youtube-fill"></i></a></span>
            <div class="n_logo"><img src="/assets/w.png"></div>
        </div>
    </div>
</footer>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>

<script th:inline="javascript">
	const registrationSuccess = /*[[${registrationSuccess}]]*/ false;
	    const emailExists = /*[[${emailExists}]]*/ false;

    if (registrationSuccess) {
        toastr.success("Registered successfully! ", "Success", {
            timeOut: 2500,
            onHidden: function () {
                window.location.href = "/login1";
            }
        });
    }

    if (emailExists) {
        toastr.error("Email already exists! ", "Error", {
            timeOut: 2500,
            onHidden: function () {
                window.location.href = "/forgetPass";
            }
        });
    }
</script>

<script>
    const form = document.querySelector('#login');
    form.addEventListener('submit', (event) => {
        if (!validateForm()) {
            event.preventDefault();
        }
    });

    function validateForm() {
        var mobileNumber = document.getElementById("mnumber").value.trim();
        var password = document.getElementById("password").value.trim();
        var confirmPassword = document.getElementById("cpassword").value.trim();
        var email = document.getElementById("email").value;
        var firstName = document.getElementById("fname").value;
        var lastName = document.getElementById("lname").value;

        var nameRegex = /^[a-zA-Z ]+$/;
        if (!nameRegex.test(firstName) || !nameRegex.test(lastName)) {
            alert("Name cannot contain numbers or special characters");
            return false;
        }

        var emailRegex = /^[^\s@]+@[^\s@]+\.[a-zA-Z]{2,}$/;
        if (!emailRegex.test(email)) {
            alert("Invalid Email Format.");
            return false;
        }

        if (password !== confirmPassword) {
            alert("Password and Confirm Password must match!");
            return false;
        }

        var mobilePattern = /^[6-9]\d{9}$/;
        if (!mobilePattern.test(mobileNumber)) {
            alert("Please enter a valid 10-digit Indian mobile number.");
            return false;
        }

        return true;
    }
</script>
</body>
</html>
